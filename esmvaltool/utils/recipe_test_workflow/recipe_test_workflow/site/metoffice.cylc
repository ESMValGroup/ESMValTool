#!jinja2
[runtime]
    [[root]]
        [[[environment]]]
            ESMVALCORE_DIR = ${CYLC_WORKFLOW_RUN_DIR}/lib/ESMValCore
            ESMVALTOOL_DIR = ${CYLC_WORKFLOW_RUN_DIR}/lib/ESMValTool
            PYTHONPATH_PREPEND = ${ESMVALCORE_DIR}:${ESMVALTOOL_DIR}
            
    [[COMPUTE]]
        platform = spice
        [[[directives]]]
            --wckey = RTW
            --ntasks = {{ MAX_PARALLEL_TASKS }}

    [[configure]]
        platform = localhost

    [[get_esmval]]
        platform = localhost
        execution time limit = PT30M
        [[[directives]]]
            --mem = 2G

    [[process<fast>]]
        execution time limit = PT2M
        [[[directives]]]
            --mem = 2G

    [[process<medium>]]
        execution time limit = PT6M
        [[[directives]]]
            --mem = 3G
