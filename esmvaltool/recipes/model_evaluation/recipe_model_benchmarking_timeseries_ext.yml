# ESMValTool
---
documentation:
  title: Benchmarking of a single model.
  description: >
    Benchmarking: time series.
  authors:
    - lauer_axel
    - schlund_manuel
  maintainer:
    - lauer_axel


# Note: the following models are just examples
datasets:
  - {dataset: ACCESS-CM2, grid: gn, institute: CSIRO-ARCCSS}
  - {dataset: ACCESS-ESM1-5, grid: gn, institute: CSIRO}
  - {dataset: AWI-CM-1-1-MR, grid: gn}
  - {dataset: AWI-ESM-1-1-LR, grid: gn}
  - {dataset: BCC-CSM2-MR, grid: gn}
  - {dataset: BCC-ESM1, grid: gn}
  - {dataset: CAMS-CSM1-0, grid: gn}
  - {dataset: CanESM5, grid: gn}
  - {dataset: CanESM5-CanOE, grid: gn, ensemble: r1i1p2f1}
  - {dataset: CESM2, grid: gn}
  - {dataset: CESM2-FV2, grid: gn, institute: NCAR}
  - {dataset: CESM2-WACCM, grid: gn, institute: NCAR}
  - {dataset: CESM2-WACCM-FV2, grid: gn, institute: NCAR}
#  - {dataset: CIESM}  # clt in fraction
  - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2}
  - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2}
  - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2}
  - {dataset: E3SM-1-0}
  - {dataset: E3SM-1-1, institute: E3SM-Project}
  - {dataset: EC-Earth3-Veg}
  - {dataset: FGOALS-f3-L}
  - {dataset: FGOALS-g3, grid: gn}
#  - {dataset: FIO-ESM-2-0, grid: gn} # clt in fraction
  - {dataset: GFDL-ESM4, grid: gr1}
  - {dataset: GISS-E2-1-G, grid: gn}
  - {dataset: GISS-E2-1-H, grid: gn}
  - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn}
  - {dataset: HadGEM3-GC31-MM, ensemble: r1i1p1f3, grid: gn}
  - {dataset: INM-CM4-8, grid: gr1}
  - {dataset: INM-CM5-0, grid: gr1}
  - {dataset: IPSL-CM6A-LR}
  - {dataset: KACE-1-0-G}
#  - {dataset: MCM-UA-1-0, grid: gn} # no clt
  - {dataset: MIROC6, grid: gn, benchmark_dataset: true}
  - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn}
  - {dataset: MPI-ESM-1-2-HAM, grid: gn}
  - {dataset: MPI-ESM1-2-HR, grid: gn}
  - {dataset: MPI-ESM1-2-LR, grid: gn}
  - {dataset: MRI-ESM2-0, grid: gn}
  - {dataset: NESM3, grid: gn}
  - {dataset: NorESM2-LM, grid: gn, institute: NCC}
  - {dataset: NorESM2-MM, grid: gn, institute: NCC}
  - {dataset: SAM0-UNICON, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn}

preprocessors:

  pp_def:
    regrid:
      target_grid: 2x2
      scheme: linear
    area_statistics:
      operator: mean
    annual_statistics:
      operator: mean
#    convert_units:
#      units: mm day-1
#    multi_model_statistics:
#      span: full
#      statistics:
#      - operator: mean
#      groupby: [tag]
#      ignore_scalar_coords: true

  pp_pr:
    regrid:
      target_grid: 2x2
      scheme: linear
    area_statistics:
      operator: mean
    annual_statistics:
      operator: mean
    convert_units:
      units: mm day-1


diagnostics:

  timeseries:
    description: Plot "classical" time series of global means including reference dataset(s).
    variables:
      tas:
        timerange: '2000/2009'
        preprocessor: pp_def
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: ERA5, project: native6, type: reanaly, version: v1, tier: 3, tag: 'obs'}
          - {dataset: HadCRUT5, project: OBS, type: ground, version: 5.0.1.0-analysis, tier: 2, tag: 'obs'}
          - {dataset: MERRA2, project: OBS6, type: reanaly, version: '5.12.4', tier: 3, tag: 'obs'}
      pr:
        timerange: '2000/2009'
        preprocessor: pp_pr
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
#          - {dataset: CRU, project: OBS, type: reanaly, version: TS4.04, tier: 2, tag: 'obs'} # not global
          - {dataset: ERA5, project: native6, type: reanaly, version: v1, tier: 3, tag: 'obs'}
#          - {dataset: GPCC, project: OBS, type: reanaly, version: v2018_10, tier: 2, tag: 'obs'} # not global
          - {dataset: GPCP-SG, project: OBS, type: atmos, version: 2.3, tier: 2, tag: 'obs'}
#          - {dataset: PERSIANN-CDR, project: OBS, type: reanaly, version: v01r01, tier: 2, tag: 'obs'} # not global
      clt:
        timerange: '2000/2009'
        preprocessor: pp_def
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: ESACCI-CLOUD, project: OBS, type: sat,
             version: AVHRR-AMPM-fv3.0, tier: 2, tag: 'obs'} # start_year: 1992, end_year: 2016}
          - {dataset: CLARA-AVHRR, project: OBS, type: sat, version: V002_01,
             tier: 3, tag: 'obs'} # start_year: 1982, end_year: 2018
          - {dataset: PATMOS-x, project: OBS, type: sat, version: NOAA,
             tier: 2, tag: 'obs'} # start_year: 1982, end_year: 2016
          - {dataset: MODIS, project: OBS, type: sat, version: MYD08-M3,
             tier: 3, start_year: 2003, tag: 'obs'} # start_year: 2003, end_year: 2018
          - {dataset: ERA5, project: native6, type: reanaly, version: 'v1', tier: 3, tag: 'obs'}
    scripts:
      allplots:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: variable_group
        plots:
          timeseries:
            annual_mean_kwargs: False
            plot_kwargs:
              MIROC6:
                color: red
                label: '{dataset}'
                linestyle: '-'
                linewidth: 2
                zorder: 4
              CLARA-AVHRR:
                color: darkblue
                label: '{dataset}'
                linestyle: '-.'
                linewidth: 1
                zorder: 3
              CRU:
                color: darkblue
                label: '{dataset}'
                linestyle: ':'
                linewidth: 1
                zorder: 3
              ERA5:
                color: darkblue
                label: '{dataset}'
                linestyle: '--'
                linewidth: 1
                zorder: 3
              ESACCI-CLOUD:
                color: darkblue
                label: '{dataset}'
                linestyle: '-'
                linewidth: 1
                zorder: 3
              GPCC:
                color: darkblue
                label: '{dataset}'
                linestyle: '-'
                linewidth: 1
                zorder: 3
              GPCP-SG:
                color: darkblue
                label: '{dataset}'
                linestyle: '-'
                linewidth: 1
                zorder: 3
              HadCRUT5:
                color: darkblue
                label: '{dataset}'
                linestyle: ':'
                linewidth: 1
                zorder: 3
              MERRA2:
                color: darkblue
                label: '{dataset}'
                linestyle: '-.'
                linewidth: 1
                zorder: 3
              MODIS:
                color: darkblue
                label: '{dataset}'
                linestyle: '--'
                linewidth: 1
                zorder: 3
              obsMean:
                color: darkblue
                label: 'multi-obs-mean'
                linestyle: '-'
                linewidth: 2
                zorder: 3
              PATMOS-x:
                color: darkblue
                label: '{dataset}'
                linestyle: ':'
                linewidth: 1
                zorder: 3
              PERSIANN-CDR:
                color: darkblue
                label: '{dataset}'
                linestyle: '-.'
                linewidth: 1
                zorder: 3
              default:
                color: lightgray
                label: null
                linestyle: '-'
                linewidth: 1
                zorder: 1
