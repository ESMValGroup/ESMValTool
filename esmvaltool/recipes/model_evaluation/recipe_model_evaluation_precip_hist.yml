# ESMValTool
---
documentation:
  title: Histogram of precipitation.
  description: >
    Histogram of precipitation
  authors:
    - heuer_helge
    - bock_lisa
    - grundner_arthur
  maintainer:
    - bock_lisa


# Note: the following models are just examples
datasets:
  # - {project: ICON, dataset: ICON, exp: ag_atm_amip_r2b5} # Problem with the grid references in the ICON files!
  - {project: CMIP6, dataset: BCC-ESM1, exp: historical, ensemble: r1i1p1f1, grid: gn}
  - {project: CMIP6, dataset: BCC-CSM2-MR, exp: historical, ensemble: r1i1p1f1, grid: gn}

# Note: for some observational datasets, we use preset time ranges due to
# their limited temporal availability
timerange_for_models: &time_period
  #timerange: '19920101/20140101'
  timerange: '19820101/19820401'


preprocessors:

  pp_hist:
    convert_units:
      units: mm day-1
    regrid:
      target_grid: 2x2
      scheme: linear


diagnostics:

  hist:
    description: Precipitation histogram.
    variables:
      pr:
        <<: *time_period
        preprocessor: pp_hist
        mip: day
        #additional_datasets:
        #  - {dataset: GPCP-SG, project: obs4MIPs, level: L3, version: v2.3, tier: 1}
    scripts: 
      histogram: 
        script: clouds/diffhist.py
        split_by: dataset
        plot_global: true
        plot_kwargs:
          alpha: 0.75
          xlim: (0, 0.1)
          bins: [0,0.1,0.2]
        plot_properties:
          # ylim: (0, 0.45)
          xlim: (0, 0.1)
          xscale: log
