# ESMValTool
# 
---
documentation:
  title: Performance metrics plots.
  description: >
    Compare performance of ICON-Seamless vs. CMIP6 models.
  authors:
    - schlund_manuel
    - ruhe_lukas
    # - cammarano_diego
  references:
    - eyring21ipcc


preprocessors:

  extract_time: &extract_time
    custom_order: true
    extract_time:
      start_year: 1990
      start_month: 1
      start_day: 1
      end_year: 1995
      end_month: 12
      end_day: 31
    regrid:
      target_grid: 2x2
      scheme: nearest
    distance_metric:
      metric: pearsonr
      coords: null




cmip6_default: &cmip6 {dataset: ACCESS-CM2, grid: gn,
            ensemble: r1i1p1f1, project: CMIP6, timerange: '1980/1999'}
diagnostics:
  perfmetric:
    description: perfmetric in python
    variables:
      pr: &var_default
        preprocessor: extract_time
        mip: Amon
        exp: historical
        # ensemble: r1i1p1
        # alternative_dataset: GHCN
      tas:
        <<: *var_default
      clt: 
        <<: *var_default
      psl:
        <<: *var_default

    additional_datasets:
      # - {dataset: ERA5, project: native6, type: reanaly, 
      #   version: v1, tier: 3, reference_for_metric: true}
      - {<<: *cmip6, dataset: BCC-ESM1, reference_for_metric: true}
      - {<<: *cmip6, dataset: CMCC-ESM2}
      - {<<: *cmip6, dataset: E3SM-1-1, institute: E3SM-Project, grid: gr}
      - {<<: *cmip6, dataset: E3SM-1-0, grid: gr}
      - {<<: *cmip6, dataset: E3SM-1-1-ECA, institute: E3SM-Project, grid: gr}
      # - {<<: *cmip6, dataset: EC-Earth3, grid: gr}
      # - {<<: *cmip6, dataset: EC-Earth3-AerChem, grid: gr}
      # - {<<: *cmip6, dataset: EC-Earth3-CC, grid: gr}
      # - {<<: *cmip6, dataset: EC-Earth3-Veg, grid: gr}
      - {<<: *cmip6, dataset: GFDL-ESM4, grid: gr1}
      - {<<: *cmip6, dataset: GISS-E2-1-G-CC}
      # - {<<: *cmip6, dataset: IPSL-CM5A2-INCA, grid: gr}
      # - {<<: *cmip6, dataset: KACE-1-0-G, grid: gr}
      - {<<: *cmip6, dataset: KIOST-ESM, grid: gr1}
      - {<<: *cmip6, dataset: MCM-UA-1-0}
    scripts:
      python:
        script: perfmetrics/main.py
        group_by: project

  # tas: &pcmip6, dataset: MCM-UA-1-0}
  #     - {dataset: ERA5, project: native6, type: reanaly, version: v1, tier: 3}
  #     - {dataset: NCEP-NCAR-R1, project: OBS6, type: reanaly, version: 1, tier: 2}

  # clt:
  #   <<:torical
  #   additional_datasets:
  #     - {<<: *cmip6, dataset: BCC-ESM1}
  #     - {dataset: ESACCI-CLOUD, project: OBS, type: sat,
  #        version: AVHRR-fv3.0, tier: 2, timerange: '1982/1999'}
  #     - {dataset: PATMOS-x, project: OBS, type: sat, version: NOAA, tier: 2,
  #        timerange: '1982/1999'}

  # pr:
  #     - {dataset: GPCP-SG, project: obs4MIPs, level: L3, version: v2.3, tier: 1}
  #     - {dataset: GHCN, project: OBS, type: ground, version: 1, tier: 2}

  # psl:
  #   <<: aset: MCM-UA-1-0}
  #     - {dataset: JRA-55, project: ana4mips, type: reanalysis, tier: 1}
  #     - {dataset: ERA5, project: native6, type: reanaly, version: v1, tier: 3}


  # rlut:
  #   6, dataset: MCM-UA-1-0}
  #     - {dataset: CERES-EBAF, project: obs4MIPs, level: L3B, version: Ed2-8,
  #        tier: 1, start_year: 2001, end_year: 2015}

  # rsut:
  #   <<: *perfp6, dataset: KIOST-ESM, grid: gr1}
  #     - {dataset: CERES-EBAF, project: obs4MIPs, level: L3B, version: Ed2-8,
  #        tier: 1, start_year: 2001, end_year: 2015}

