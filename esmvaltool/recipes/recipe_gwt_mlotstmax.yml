# ESMValTool
# recipe_gwt_mlotstmax.yml
---
documentation:
  description: |
    Recipe to calcualte multi years means for UKESM Global warming thresholds
    (mlotstmax).

  authors:
    - demora_lee

  maintainer:
    - demora_lee

  references:
    - demora2018gmd

  projects:
    - ukesm

preprocessors:
  prep_1:
    climate_statistics:
      operator: mean
      period: full

diagnostics:
  # --------------------------------------------------
  # Time series diagnostics
  # --------------------------------------------------
  diag_mlotstmax:
    variables:
      # Procedurally generated recipe contents:

      mlotstmax_historical:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 1900, grid: gn}

      mlotstmax_ssp119_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 2015, end_year: 2035, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r3i1p1f2, start_year: 2013, end_year: 2033, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r4i1p1f2, start_year: 2017, end_year: 2037, grid: gn}

      mlotstmax_ssp119_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 2030, end_year: 2050, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r3i1p1f2, start_year: 2028, end_year: 2048, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r4i1p1f2, start_year: 2030, end_year: 2050, grid: gn}

      mlotstmax_ssp126_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r2i1p1f2, start_year: 2018, end_year: 2038, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r3i1p1f2, start_year: 2015, end_year: 2035, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r4i1p1f2, start_year: 2019, end_year: 2039, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r8i1p1f2, start_year: 2011, end_year: 2031, grid: gn}

      mlotstmax_ssp126_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 2027, end_year: 2047, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r2i1p1f2, start_year: 2029, end_year: 2049, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r3i1p1f2, start_year: 2027, end_year: 2047, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r4i1p1f2, start_year: 2031, end_year: 2051, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r8i1p1f2, start_year: 2023, end_year: 2043, grid: gn}

      mlotstmax_ssp245_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r2i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r3i1p1f2, start_year: 2013, end_year: 2033, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r4i1p1f2, start_year: 2018, end_year: 2038, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r8i1p1f2, start_year: 2011, end_year: 2031, grid: gn}

      mlotstmax_ssp245_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 2025, end_year: 2045, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r2i1p1f2, start_year: 2023, end_year: 2043, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r3i1p1f2, start_year: 2025, end_year: 2045, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r4i1p1f2, start_year: 2027, end_year: 2047, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r8i1p1f2, start_year: 2021, end_year: 2041, grid: gn}

      mlotstmax_ssp245_3.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 2050, end_year: 2070, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r2i1p1f2, start_year: 2045, end_year: 2065, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r3i1p1f2, start_year: 2046, end_year: 2066, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r4i1p1f2, start_year: 2048, end_year: 2068, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r8i1p1f2, start_year: 2045, end_year: 2065, grid: gn}

      mlotstmax_ssp370_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 2016, end_year: 2036, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 2017, end_year: 2037, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 2012, end_year: 2032, grid: gn}

      mlotstmax_ssp370_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 2022, end_year: 2042, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 2025, end_year: 2045, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 2024, end_year: 2044, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 2026, end_year: 2046, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 2022, end_year: 2042, grid: gn}

      mlotstmax_ssp370_3.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 2041, end_year: 2061, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 2042, end_year: 2062, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 2043, end_year: 2063, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 2044, end_year: 2064, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 2041, end_year: 2061, grid: gn}

      mlotstmax_ssp370_4.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 2060, end_year: 2080, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 2058, end_year: 2078, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 2059, end_year: 2079, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 2060, end_year: 2080, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 2058, end_year: 2078, grid: gn}

      mlotstmax_ssp370_5.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 2075, end_year: 2095, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 2073, end_year: 2093, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 2072, end_year: 2092, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 2075, end_year: 2095, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 2073, end_year: 2093, grid: gn}

      mlotstmax_ssp434_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r1i1p1f2, start_year: 2015, end_year: 2035, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r2i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r3i1p1f2, start_year: 2014, end_year: 2034, grid: gn}

      mlotstmax_ssp434_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r1i1p1f2, start_year: 2024, end_year: 2044, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r2i1p1f2, start_year: 2024, end_year: 2044, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r3i1p1f2, start_year: 2026, end_year: 2046, grid: gn}

      mlotstmax_ssp434_3.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r1i1p1f2, start_year: 2053, end_year: 2073, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r2i1p1f2, start_year: 2052, end_year: 2072, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r3i1p1f2, start_year: 2051, end_year: 2071, grid: gn}

      mlotstmax_ssp585_1.5:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2015, end_year: 2035, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2013, end_year: 2033, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2016, end_year: 2036, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2011, end_year: 2031, grid: gn}

      mlotstmax_ssp585_2.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2022, end_year: 2042, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2023, end_year: 2043, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2022, end_year: 2042, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2024, end_year: 2044, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2021, end_year: 2041, grid: gn}

      mlotstmax_ssp585_3.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2037, end_year: 2057, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2037, end_year: 2057, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2037, end_year: 2057, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2039, end_year: 2059, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2037, end_year: 2057, grid: gn}

      mlotstmax_ssp585_4.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2051, end_year: 2071, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2051, end_year: 2071, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2051, end_year: 2071, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2052, end_year: 2072, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2052, end_year: 2072, grid: gn}

      mlotstmax_ssp585_5.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2063, end_year: 2083, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2064, end_year: 2084, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2064, end_year: 2084, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2064, end_year: 2084, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2064, end_year: 2084, grid: gn}

      mlotstmax_ssp585_6.0:
        short_name: mlotstmax
        preprocessor: prep_1
        additional_datasets:
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
         - {damlotstmaxet: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2076, end_year: 2096, grid: gn}

    scripts:
      diag_maps_mlotstmax:
        script: ocean/diagnostic_maps_gwt.py
