---
documentation:
  description: 'Energy vectors precipitation'
  authors: ['vega_ja']
  projects: [esmval]
  references: ['contact_authors']
  mantainer: [vega_ja]

datasets:
 - {project: CMIP6, activity: CMIP, dataset: IPSL-CM6A-LR, exp: historical, ensemble: r1i1p1f1, start_year: 1950, end_year: 2014}
# - {dataset: HadGEM3-GC31-MM, project: CMIP6, activity: HighResMIP, exp: highresSST-present, ensemble: r1i1p1f1, start_year: 1950, end_year: 2014}
# - {dataset: HadGEM3-GC31-HM, project: CMIP6, activity: HighResMIP, exp: highresSST-present, ensemble: r1i1p1f1, start_year: 1950, end_year: 2014}

preprocessors:
  extract_200:
    extract_levels:
      levels: [20000,]
      scheme: nearest

  extract_850:
    extract_levels:
      levels: [85000,]
      scheme: nearest

diagnostics:
  energy_vectors:
    description: Energy vectors
    variables:
      ua:
        mip: day
        grid: gr
        preprocessor: extract_200

      va:
        mip: day
        grid: gr
        preprocessor: extract_200

    scripts:
      energy_vectors:
        script: energy_vectors/energy_vectors.py
        window: 10 # in days

  heat_flux:
    description: Energy vectors
    variables:
      va:
        mip: day
        grid: gr
        preprocessor: extract_850

      ta:
        mip: day
        grid: gr
        preprocessor: extract_850

    scripts:
      heat_flux:
        script: energy_vectors/heat_flux.py
        window: 10 # in days
