# ESMValTool
# This is basic example for ozone variability in the tropics
# DETRENDED DATA- 7 variables

documentation:
  title: Ozone variability over tropics

  description: "Recipe to analyze and visualize ozone variability in the tropics"

  authors:
    - gulletutan_gulcin

datasets:
  - {dataset: MRI-ESM2-0, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1970, end_year: 2014, grid: gnz}
  # - {dataset: MRI-ESM2-0, project: CMIP6, exp: historical, ensemble: r1i1p1f1, mip: AERmonZ, start_year: 1970, end_year: 2014, grid: gnz} I suggested to enter mip: AERmonZ already here.

preprocessors:
  tropics_anomalies:
    anomalies:
      period: monthly
    extract_levels:
      levels: [10000.]
      scheme: linear
    detrend:
      method: linear       
diagnostics:
  diagnostic_o3:
    description: Analyze variables for ozone time series
    variables:
      ozone_tropics:
        preprocessor: tropics_anomalies
        short_name: o3
        mip: AERmonZ #E.G. u can remove this entry if u follow my suggestion above.
      oh:
        preprocessor: tropics_anomalies
        short_name: oh
        mip: AERmonZ #E.G. Same here and below for all variables
      ho2:
        preprocessor: tropics_anomalies
        short_name: ho2
        mip: AERmonZ
      h2o:
        preprocessor: tropics_anomalies
        short_name: h2o
        mip: AERmonZ 
      meanage: # E.G.: As far as I remember those calculations of meanage were not correct and u had to load data outside the ESMValTool. Can u fix this?
        preprocessor: tropics_anomalies
        short_name: meanage
        mip: AERmonZ
      geo_pot_height:
        preprocessor: tropics_anomalies
        short_name: zg
        mip: AERmonZ
      zonal_wind:
        preprocessor: tropics_anomalies
        short_name: ua
        mip: AERmonZ

    scripts:
      tropics_anomalies_script:
        script: o3_extract_region_mean.py                                                                                                    
