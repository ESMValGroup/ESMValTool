---
documentation:
  description: 'Sea ice drift evaluation'
  authors: ['docq_da']
  projects: [primavera]
  references: ['docquier2017']
  mantainer: [vega_ja]

datasets:
 - {dataset: GFDL-ESM2G,  project: CMIP5,  mip: day,  exp: historical,  ensemble: r1i1p1,  start_year: 1979,  end_year: 2005}
 - {dataset: MPI-ESM-LR,  project: CMIP5,  mip: day,  exp: historical,  ensemble: r1i1p1,  start_year: 1979,  end_year: 2005}
#  - {dataset: EC-EARTH,  project: CMIP5,  mip: day,  exp: historical,  ensemble: r1i1p1,  start_year: 1979,  end_year: 2005}

preprocessors:
  extract:
    extract_region:
      start_longitude: 0
      end_longitude: 360
      start_latitude: 40
      end_latitude: 90
    climate_statistics:
      period: mon
      operator: mean

diagnostics:
  seaice_drift:
    description: Sea-ice drift
    variables:
      sic:
        mip: SIday
        field: T2MO
        preprocessor: extract
        reference_dataset: OSI-450-nh
        fx_files: [areacello]
        additional_datasets:
          - {dataset: OSI-450-nh, project: OBS, type: reanaly, version: v2,
             mip: OImon, tier: 2,
             start_year: 1979,  end_year: 2005}

      sithick:
        mip: SIday
        field: T2MO
        preprocessor: extract
        reference_dataset: PIOMAS
        derive: true
        force_derivation: false
        fx_files: [areacello]
        additional_datasets:
          - {dataset: PIOMAS, project: OBS, type: reanaly, version: 2.1,
             mip: day, tier: 2,
             start_year: 1979,  end_year: 2005}

      sispeed:
        mip: SIday
        field: T2MO
        preprocessor: extract
        reference_dataset: IABP
        derive: true
        force_derivation: false
        fx_files: [areacello]
        additional_datasets:
          - {dataset: IABP, project: OBS, type: buoy, version: v4.1,
             mip: day, tier: 2,
             start_year: 1979,  end_year: 2005}
    scripts:
      sea_ice_drift:
        script: seaice_drift/seaice_drift.py
        latitude_treshold: 50
      sea_ice_drift_SCICEX:
        script: seaice_drift/seaice_drift.py
        # lon, lat tuples
        polygon:
          - [-15., 87.]
          - [-60., 86.58]
          - [-130., 80]
          - [-141., 80]
          - [-141., 70]
          - [-155., 72]
          - [175., 75.5]
          - [172., 78.5]
          - [163, 80.5]
          - [126, 78.5]
          - [110, 84.33]
          - [80, 84.42]
          - [57, 85.17]
          - [33, 83.8]
          - [8, 84.08]
        polygon_name: SCICEX
