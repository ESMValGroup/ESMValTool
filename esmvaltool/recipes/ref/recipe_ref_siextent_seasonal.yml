# ESMValTool
---
documentation:
  title: Seasonal cycle of NH sea ice extent
  description: >
    Example plot of the seasonal cycle of NH sea ice extent (CMIP6 model MPI-ESM1-2-LR).
  authors:
    - lauer_axel
  maintainer:
    - lauer_axel


datasets:
#  - {dataset: AWI-CM-1-1-MR, grid: gn}
#  - {dataset: AWI-ESM-1-1-LR, grid: gn}
#  - {dataset: CESM2, grid: gn}
#  - {dataset: CESM2-FV2, grid: gn, institute: NCAR}
#  - {dataset: CESM2-WACCM, grid: gn, institute: NCAR}
#  - {dataset: CESM2-WACCM-FV2, grid: gn, institute: NCAR}
  - {dataset: INM-CM4-8, grid: gr1}
  - {dataset: INM-CM5-0, grid: gr1}
  - {dataset: IPSL-CM6A-LR, grid: gn}
  - {dataset: MPI-ESM-1-2-HAM, grid: gn}
  - {dataset: MPI-ESM1-2-HR, grid: gn}
  - {dataset: MPI-ESM1-2-LR, grid: gn, benchmark_dataset: true}
#  - {dataset: MRI-ESM2-0, grid: gm}
#  - {dataset: NorESM2-MM, grid: gn, institute: NCC}
  - {dataset: bcc-csm1-1, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: bcc-csm1-1-m, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: BNU-ESM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: CanCM4, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: CanESM2, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CMCC-CESM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CMCC-CM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CMCC-CMS, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CNRM-CM5-2, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CNRM-CM5, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: ACCESS1-0, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: ACCESS1-3, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: CSIRO-Mk3-6-0, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: FIO-ESM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: EC-EARTH, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: inmcm4, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: IPSL-CM5A-LR, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: IPSL-CM5A-MR, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: IPSL-CM5B-LR, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: FGOALS-g2, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MIROC4h, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MIROC5, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MIROC-ESM-CHEM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MIROC-ESM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: HadCM3, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: HadGEM2-CC, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: HadGEM2-ES, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MPI-ESM-LR, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MPI-ESM-MR, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MPI-ESM-P, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MRI-CGCM3, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: MRI-ESM1, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: GISS-E2-H-CC, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: GISS-E2-H, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: GISS-E2-R-CC, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: GISS-E2-R, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CCSM4, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: NorESM1-ME, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: NorESM1-M, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: HadGEM2-AO, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: GFDL-CM2p1, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: GFDL-CM3, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: GFDL-ESM2G, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: GFDL-ESM2M, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CESM1-BGC, project: CMIP5, ensemble: r1i1p1, mip: OImon}
##  - {dataset: CESM1-CAM5-1-FV2, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CESM1-CAM5, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CESM1-FASTCHEM, project: CMIP5, ensemble: r1i1p1, mip: OImon}
  - {dataset: CESM1-WACCM, project: CMIP5, ensemble: r1i1p1, mip: OImon}


preprocessors:

  pp_nh:
    extract_region:
      start_longitude: 0
      end_longitude: 360
      start_latitude: 30
      end_latitude: 90
    climate_statistics:
      period: month
    area_statistics:
      operator: sum
#    multi_model_statistics:
#      span: overlap
#      statistics:
#        - operator: percentile
#          percent: 10
#        - operator: percentile
#          percent: 90
#      exclude: [reference_dataset, MPI-ESM1-2-LR]


diagnostics:

  sie_seas:
    description: Create "classical" seasonal cycle plot including a reference dataset.
    variables:
#      siextentn:
#        timerange: '2000/2009'
#        preprocessor: pp
#        project: CMIP6
#        mip: SImon
#        exp: historical
#        ensemble: r1i1p1f1
#        grid: gr
##        reference_dataset: HadCRUT5
##        additional_datasets:
##          - {dataset: HadCRUT5, project: OBS, type: ground, version: 5.0.1.0-analysis, tier: 2, alias: HadCRUT5}
      siextent:
        timerange: '2000/2004'
        preprocessor: pp_nh
        project: CMIP6
        mip: SImon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
        derive: true
        reference_dataset: ESACCI-SEAICE
        additional_datasets:
        - {dataset: ESACCI-SEAICE, project: OBS6, tier: 2, type: sat, version: L4-SICONC-RE-SSMI-12.5kmEASE2-fv3.0-NH,
           supplementary_variables: [{short_name: areacello, mip: Ofx}]}
    scripts:
      allplots:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: variable_group
        facet_used_for_labels: dataset
        plots:
          annual_cycle:
            annual_mean_kwargs: False
            plot_kwargs:
              'MPI-ESM1-2-LR':
                color: red
#                label: '{alias}'
                label: '{dataset}'
                linestyle: '-'
                linewidth: 2
                zorder: 4
              ESACCI-SEAICE:
                color: black
                label: '{dataset}'
                linestyle: '-'
                linewidth: 2
                zorder: 3
              MultiModelPercentile10:
                color: gray
                label: '{dataset}'
                linestyle: '--'
                linewidth: 1
                zorder: 2
              MultiModelPercentile90:
                color: gray
                label: '{dataset}'
                linestyle: '--'
                linewidth: 1
                zorder: 2
              default:
                color: lightgray
                label: null
                linestyle: '-'
                linewidth: 1
                zorder: 1
