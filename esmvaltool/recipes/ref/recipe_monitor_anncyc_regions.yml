# ESMValTool
---
documentation:
  title: Model Monitoring - for regions
  description: |
    This a recipe plots the annual cycle for severl regions using extract_shape.
  authors:
    - vegas-regidor_javier
    - weigel_katja
  maintainer:
    - loosveldt-tomas_saskia

datasets:
  # Note: plot_label currently only used by diagnostic plot_multiple_annual_cycles
  - {project: CMIP6, dataset: EC-Earth3, exp: historical, grid: gr, ensemble: r1i1p1f1, tag: 'EC-Earth3'}

preprocessors:
  timeseries_regular_reg:
    extract_shape:
      shapefile: ar6
      crop: true
      decomposed: true
      ids:
        Name: &regions_to_extract
          - N.Europe
          - Mediterranean
          - Equatorial.Pacific-Ocean
          - Central-Africa
          - E.C.Asia
          - New-Zealand
    area_statistics:
      operator: mean

diagnostics:

  plot_timeseries_annual_cycle:
    description: "Plot time series and annualcycles"
    variables:
      tas:
        mip: Amon
        exp: historical
        ensemble: r1i1p1f
        preprocessor: timeseries_regular_reg
        timerange: '2001/2014'
    scripts:
      plot:
        script: monitor/monitor.py
        plots:
          annual_cycle: {}
