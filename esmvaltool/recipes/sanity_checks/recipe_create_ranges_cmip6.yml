# ESMValTool
---
documentation:
  title: Reasonable variable ranges for sanity checks (CMIP6)
  description: >
    Calculate reasonable variable ranges for sanity checks.
  authors:
    - lauer_axel
  maintainer:
    - lauer_axel


datasets:
  - {dataset: ACCESS-CM2, grid: gn, institute: CSIRO-ARCCSS}
  - {dataset: ACCESS-ESM1-5, grid: gn, institute: CSIRO}
  - {dataset: AWI-CM-1-1-MR, grid: gn}
  - {dataset: AWI-ESM-1-1-LR, grid: gn}
  - {dataset: BCC-CSM2-MR, grid: gn}
  - {dataset: BCC-ESM1, grid: gn}
  - {dataset: CAMS-CSM1-0, grid: gn}
  - {dataset: CanESM5, grid: gn}
  - {dataset: CanESM5-CanOE, grid: gn, ensemble: r1i1p2f1}
  - {dataset: CESM2, grid: gn}
  - {dataset: CESM2-FV2, grid: gn, institute: NCAR}
  - {dataset: CESM2-WACCM, grid: gn, institute: NCAR}
  - {dataset: CESM2-WACCM-FV2, grid: gn, institute: NCAR}
  - {dataset: CIESM}
  - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2}
  - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2}
  - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2}
  - {dataset: E3SM-1-0}
  - {dataset: E3SM-1-1, institute: E3SM-Project}
  - {dataset: EC-Earth3-Veg}
  - {dataset: FGOALS-f3-L}
  - {dataset: FGOALS-g3, grid: gn}
  - {dataset: FIO-ESM-2-0, grid: gn}
  - {dataset: GFDL-ESM4, grid: gr1}
  - {dataset: GISS-E2-1-G, grid: gn}
  - {dataset: GISS-E2-1-H, grid: gn}
  - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn}
  - {dataset: HadGEM3-GC31-MM, ensemble: r1i1p1f3, grid: gn}
  - {dataset: INM-CM4-8, grid: gr1}
  - {dataset: INM-CM5-0, grid: gr1}
  - {dataset: IPSL-CM6A-LR}
  - {dataset: KACE-1-0-G}
#  - {dataset: MCM-UA-1-0, grid: gn}
  - {dataset: MIROC6, grid: gn}
  - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn}
  - {dataset: MPI-ESM-1-2-HAM, grid: gn}
  - {dataset: MPI-ESM1-2-HR, grid: gn}
  - {dataset: MPI-ESM1-2-LR, grid: gn}
  - {dataset: MRI-ESM2-0, grid: gn}
  - {dataset: NESM3, grid: gn}
  - {dataset: NorESM2-LM, grid: gn, institute: NCC}
  - {dataset: NorESM2-MM, grid: gn, institute: NCC}
  - {dataset: SAM0-UNICON, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn}

timerange_for_models: &time_period
  timerange: '1995/2014'

preprocessors:

  pp_min5_pr:
    custom_order: true
#    monthly_statistics:
#      operator: mean
    area_statistics:
      operator: mean
    multi_model_statistics:
      span: overlap
      statistics:
        - operator: percentile
          percent: 5
    convert_units:
      units: mm day-1
    climate_statistics:
      operator: min

  pp_max95_pr:
    custom_order: true
#    monthly_statistics:
#      operator: mean
    area_statistics:
      operator: mean
    multi_model_statistics:
      span: overlap
      statistics:
        - operator: percentile
          percent: 95
    convert_units:
      units: mm day-1
    climate_statistics:
      operator: max

  pp_min5:
    custom_order: true
#    monthly_statistics:
#      operator: mean
    area_statistics:
      operator: mean
    multi_model_statistics:
      span: overlap
      statistics:
        - operator: percentile
          percent: 5
    climate_statistics:
      operator: min

  pp_max95:
    custom_order: true
#    monthly_statistics:
#      operator: mean
    area_statistics:
      operator: mean
    multi_model_statistics:
      span: overlap
      statistics:
        - operator: percentile
          percent: 95
    climate_statistics:
      operator: max


diagnostics:

  clt:
    description: Calculate range of reasonable monthly values for precipitation from CMIP6 models.
    variables:
      clt_5min:
        <<: *time_period
        short_name: clt
        preprocessor: pp_min5
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
      clt_95max:
        <<: *time_period
        short_name: clt
        preprocessor: pp_max95
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
    scripts: null

#  pr:
#    description: Calculate range of reasonable monthly values for precipitation from CMIP6 models.
#    variables:
#      pr_5min:
#        <<: *time_period
#        short_name: pr
#        preprocessor: pp_min5_pr
#        project: CMIP6
#        mip: Amon
#        exp: historical
#        ensemble: r1i1p1f1
#        grid: gr
#      pr_95max:
#        <<: *time_period
#        short_name: pr
#        preprocessor: pp_max95_pr
#        project: CMIP6
#        mip: Amon
#        exp: historical
#        ensemble: r1i1p1f1
#        grid: gr
#    scripts: null

  rlut:
    description: Calculate range of reasonable monthly values for precipitation from CMIP6 models.
    variables:
      rlut_5min:
        <<: *time_period
        short_name: rlut
        preprocessor: pp_min5
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
      rlut_95max:
        <<: *time_period
        short_name: rlut
        preprocessor: pp_max95
        project: CMIP6
        mip: Amon
        exp: historical
        ensemble: r1i1p1f1
        grid: gr
    scripts: null
