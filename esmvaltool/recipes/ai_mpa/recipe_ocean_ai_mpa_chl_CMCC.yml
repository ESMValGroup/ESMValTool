diagnostics:
  diag_timeseries_3:
    scripts:
      Model_range_polots: {script: ocean/diagnostic_ai_plots.py}
    variables:
      chl_map_hist:
        additional_datasets:
        - {dataset: CMCC-ESM2, end_year: 2000, ensemble: r1i1p1f1, exp: historical,grid: gn, mip: Omon, project: CMIP6, start_year: 2000}

        end_year: 2010
        exp: historical
        grid: gn
        mip: Omon
        preprocessor: prep_map_surf
        project: CMIP6
        short_name: chl
        start_year: 2000




documentation:
  authors: [demora_lee]
  description: "Template recipe to produce a generic plot of Chlorophyll for the Ascension Island"
  maintainer: [demora_lee]
  projects: [ukesm]
  references: [demora2018gmd]
  title: "Ascension Island MPA analysis: Chlorophyll"

preprocessors:
  # --------------------------------------------------
  # Time series preprocessors
  # --------------------------------------------------
  prep_regional_ts_3d_surface: # For regional fields
    custom_order: true
    extract_region: &mpa_region {end_latitude: -5.053, end_longitude: -11.487, start_latitude: -10.813,
      start_longitude: -17.246} 
#     extract_region: &mpa_region
#       start_longitude: -17.25 #14.25W
#       end_longitude: -11.25 #
#       start_latitude: -10.56 # -7.56
#       end_latitude: -4.56 #

    area_statistics:
      operator: mean

#       fx_variables: &areacello
#          - {activity: CMIP, grid: gn, mip: Ofx, short_name: areacello, exp: '*', ensemble: '*'}
#        - {short_name: areacello, mip: Ofx, }

    extract_levels:
       scheme: nearest_extrapolate
       levels: [0.5, ]
#   extract_region: &mpa_region
#     start_longitude: -17.25 #14.25W
#     end_longitude: -11.25 #
#     start_latitude: -10.56 # -7.56
#     end_latitude: -4.56 #
#   area_statistics:
#     operator: mean
#     fx_variables:
#     - {activity: CMIP, grid: gn, mip: Ofx, short_name: areacello, exp: '*', ensemble: '*'}
  # --------------------------------------------------
  # Map preprocessors
  # --------------------------------------------------
  prep_map_surf: # For Global 2D fields
    custom_order: true
    extract_levels:
       scheme: nearest_extrapolate
       levels: [0.5 ,]
    climate_statistics:
      operator: mean
    regrid:
      target_grid: 1x1
      scheme: linear

  # --------------------------------------------------
  # Depth-profile preprocessors
  # --------------------------------------------------
  prep_profile_2: # For a regional profile
    custom_order: true
    extract_region: *mpa_region
    area_statistics:
      operator: mean
#       fx_variables: *areacello
#     - {activity: CMIP, grid: gn, mip: Ofx, short_name: areacello, exp: '*', ensemble: '*'}
    extract_levels:
      scheme: linear
      levels: [0.5, 1., 5., 10., 50., 100., 200., 300., 400., 500., 600., 700., 800.,
        900., 1000., 1500., 2000., 2500., 3000., 3500., 4000., 4500., 5000.]
