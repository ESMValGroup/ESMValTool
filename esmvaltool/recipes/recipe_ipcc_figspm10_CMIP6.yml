# ESMValTool
# recipe_ipcc_figspm10_CMIP6.yml
---
documentation:

  description: |
    Reproducing figure SPM10 from IPCC AR5 for CMIP6 models.

  authors:
    - schl_ma

  maintainer:
    - schl_ma

  references:
    - collins13ipcc

  domains:
    - global

  realms:
    - atmos

  themes:
    - carbon
    - bgphys

  projects:
    - crescendo


DATASET_ANCHOR: &datasets
  - {dataset: BCC-CSM2-MR,  grid: gn}
  - {dataset: BCC-ESM1,     grid: gn}
  - {dataset: FGOALS-f3-L,  grid: gn}
  - {dataset: CNRM-CM6-1,   grid: gn}
  - {dataset: CNRM-ESM2-1,  grid: gn}
  - {dataset: E3SM-1-0,     grid: gn}
  - {dataset: IPSL-CM6A-LR, grid: gr}
  - {dataset: MIROC6,       grid: gn}
  - {dataset: MRI-ESM2-0,   grid: gn}
  - {dataset: GISS-E2-1-G,  grid: gn}
  - {dataset: CESM2,        grid: gn}
  - {dataset: CESM2-WACCM,  grid: gn}
  - {dataset: GFDL-AM4,     grid: gn}
  - {dataset: GFDL-CM4,     grid: gn}


diagnostics:
  diag_figspm10:
    variables:
      tas_historical: &historical
        short_name: tas
        project: CMIP6
        mip: Amon
        field: T2Ms
        exp: historical
        start_year: 1861
        end_year: 2009
        # fx_files: ['areacella']
        additional_datasets:
          - {dataset: BCC-CSM2-MR,  ensemble: r1i1p1f1,  grid: gn}
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2,  grid: gr}
          - {dataset: GISS-E2-1-G,  ensemble: r1i1p1f1,  grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r29i1p1f1, grid: gr}
          - {dataset: MIROC6,       ensemble: r1i1p1f1,  grid: gn}
          - {dataset: MRI-ESM2-0,   ensemble: r1i1p1f1,  grid: gn}
      tas_1pctCO2: &1pctCO2
        <<: *historical
        exp: 1pctCO2
        end_year: 1989
        additional_datasets:
          - {dataset: BCC-CSM2-MR,  ensemble: r1i1p1f1, grid: gn}
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2, grid: gr}
          - {dataset: GISS-E2-1-G,  ensemble: r1i1p1f1, grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr}
          - {dataset: MIROC6,       ensemble: r1i1p1f1, grid: gn}
          - {dataset: MRI-ESM2-0,   ensemble: r1i1p1f1, grid: gn}
      # tas_rcp26: &rcp26
      #   <<: *historical
      #   exp: rcp26
      #   start_year: 2010
      #   end_year: 2099
      #   additional_datasets:
      #     - {dataset: MIROC-ESM}
      #     - {dataset: MPI-ESM-LR, start_year: 2030}
      #     - {dataset: NorESM1-ME, end_year: 2079}
      # tas_rcp45: &rcp45
      #   <<: *rcp26
      #   exp: rcp45
      # tas_rcp60: &rcp60
      #   <<: *rcp26
      #   exp: rcp60
      # tas_rcp85: &rcp85
      #   <<: *rcp26
      #   exp: rcp85
      co2mass_historical:
        <<: *historical
        short_name: co2mass
        field: T0M
        additional_datasets:
          - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr}
      co2mass_1pctCO2:
        <<: *1pctCO2
        short_name: co2mass
        field: T0M
        additional_datasets:
          - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr}
      # co2mass_rcp26:
      #   <<: *rcp26
      #   short_name: co2mass
      #   field: T0M
      #   additional_datasets:
      #   - {dataset: MIROC-ESM}
      # co2mass_rcp45:
      #   <<: *rcp45
      #   short_name: co2mass
      #   field: T0M
      #   additional_datasets:
      #   - {dataset: MIROC-ESM}
      # co2mass_rcp60:
      #   <<: *rcp60
      #   short_name: co2mass
      #   field: T0M
      #   additional_datasets:
      #   - {dataset: MIROC-ESM}
      # co2mass_rcp85:
      #   <<: *rcp85
      #   short_name: co2mass
      #   field: T0M
      #   additional_datasets:
      #   - {dataset: MIROC-ESM}
      nbp_historical:
        <<: *historical
        short_name: nbp_grid
        mip: Lmon
        derive: true
        additional_datasets:
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2, grid: gr}
          - {dataset: GISS-E2-1-G,  ensemble: r1i1p1f1, grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r6i1p1f1, grid: gr}
      nbp_1pctCO2:
        <<: *1pctCO2
        short_name: nbp_grid
        mip: Lmon
        derive: true
        a6dditional_datasets:
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2, grid: gr}
          - {dataset: GISS-E2-1-G,  ensemble: r1i1p1f1, grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr}
      # nbp_rcp26:
      #   <<: *rcp26
      #   short_name: nbp_grid
      #   mip: Lmon
      #   derive: true
      # nbp_rcp45:
      #   <<: *rcp45
      #   short_name: nbp_grid
      #   mip: Lmon
      #   derive: true
      # nbp_rcp60:
      #   <<: *rcp60
      #   short_name: nbp_grid
      #   mip: Lmon
      #   derive: true
      # nbp_rcp85:
      #   <<: *rcp85
      #   short_name: nbp_grid
      #   mip: Lmon
      #   derive: true
      fgco2_historical:
        <<: *historical
        short_name: fgco2_grid
        mip: Omon
        derive: true
        additional_datasets:
          - {dataset: BCC-CSM2-MR,  ensemble: r1i1p1f1,  grid: gn}
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2,  grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r31i1p1f1, grid: gn}
      fgco2_1pctCO2:
        <<: *1pctCO2
        short_name: fgco2_grid
        mip: Omon
        derive: true
        additional_datasets:
          - {dataset: BCC-CSM2-MR,  ensemble: r1i1p1f1, grid: gn}
          - {dataset: CNRM-ESM2-1,  ensemble: r1i1p1f2, grid: gn}
          - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gn}
      # fgco2_rcp26:
      #   <<: *rcp26
      #   short_name: fgco2_grid
      #   mip: Omon
      #   derive: true
      # fgco2_rcp45:
      #   <<: *rcp45
      #   short_name: fgco2_grid
      #   mip: Omon
      #   derive: true
      # fgco2_rcp60:
      #   <<: *rcp60
      #   short_name: fgco2_grid
      #   mip: Omon
      #   derive: true
      # fgco2_rcp85:
      #   <<: *rcp85
      #   short_name: fgco2_grid
      #   mip: Omon
      #   derive: true
    scripts:
      figspm10:
        script: ipcc_ar5/spm_fig10.py
