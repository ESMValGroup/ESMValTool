# ESMValTool
# recipe_modes_of_variability.yml
---
documentation:
  title: |
    Root Mean Square Error (RMSE) between observed and modelled patterns of
    variability.

  description: |
    Tool to compute the RMSE between the observed and modelled patterns of
    variability obtained through classification and their relative relative
    bias (percentage) in the frequency of occurrence and the persistence of
    each mode.

    figures 15,16,17 of Eyring paper

  authors:
    - torralba_veronica
    - fuckar_neven
    - cortesi_nicola
    - guemas_virginie
    - hunter_alasdair
    - perez-zanon_nuria
    - manubens_nicolau

  maintainer:
    - unmaintained

  projects:
    - c3s-magic

  references:
    - fuckar15cd

datasets:
  - {dataset: ACCESS-CM2, activity: CMIP, start_year: 1971, end_year: 2000, exp: historical}
  - {dataset: ACCESS-CM2, activity: ScenarioMIP, start_year: 2020, end_year: 2075, exp: ssp585}

preprocessors:
  preproc:
    extract_region: # relevant for another area?
      start_longitude: 100 #-20
      end_longitude: 160 #40
      start_latitude: -50 #20
      end_latitude: 10 #70
    # extract_levels:
    #   levels: 50000
    #   scheme: nearest
diagnostics:
  weather_regime:
    description: Compute modes of variability.
    variables:
      psl: #zg
        preprocessor: preproc
        mip: Amon
        project: CMIP6
        ensemble: r1i1p1f1
        grid: gn
    scripts:
      main:
        script: magic_bsc/weather_regime.R
        plot_type: rectangular  # rectangular or polar

        ncenters: 4
        detrend_order: 2  # 0, 1 or 2 for daily data
        cluster_method: "kmeans"  # select hclust or kmeans
        EOFS: false
        frequency: 'DJF'  # Select a month (format: JAN, FEB, ...) or season (JJA, SON, MAM(only monthly), DJF)
