# ESMValTool
# recipe_hydro_forcing.yml
---
documentation:
  description: |
    Recipe to assess the quality of a forcing dataset for a certain catchment.

  authors:
    - smeets_stef
    - aerts_jerom

  projects:
    - ewatercycle

  references:
    - acknow_project

datasets:
  # - {dataset: ERA-Interim, project: OBS6, tier: 3, type: reanaly, version: 1}
  # - {dataset: ERA5, project: OBS6, tier: 3, type: reanaly, version: 1}
  - {dataset: MSWEP, project: native6, exp: historical, ensemble: r1i1p1, type: reanaly, version: 220, tier: 3}


preprocessors:
  daily:
    # extract_shape: &extract_shape
    #   shapefile: Meuse/Meuse.shp  # In aux (config-user.yml)
    #   method: contains
    #   crop: true
    area_statistics:
      operator: mean
  monthly:
    # extract_shape: *extract_shape
    area_statistics:
      operator: mean
    monthly_statistics:
      operator: sum
  climatology:
    # extract_shape: *extract_shape
    area_statistics:
      operator: mean
    climate_statistics:
      period: month
      operator: mean


diagnostics:
  sample_year_plot:
    variables:
      pr:
        mip: day
        start_year: 2015
        end_year: 2016
        preprocessor: daily
    scripts:
      plot_sample_year:
        script: hydrology/hydro_forcing.py

  total_precip_plot:
    variables:
      pr:
        mip: day
        start_year: 2015
        end_year: 2016
        preprocessor: monthly
    scripts:
      plot_total_precip:
        script: hydrology/hydro_forcing.py

  climatology_plot:
    variables:
      pr:
        mip: day
        start_year: 2015
        end_year: 2016
        preprocessor: climatology
    scripts:
      plot_climatology:
        script: hydrology/hydro_forcing.py
