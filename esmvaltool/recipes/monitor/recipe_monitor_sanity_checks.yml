# ESMValTool
---
documentation:
  title: Basic sanity checks.
  description: >
    Calculate basic sanity checks e.g. for monitoring new model runs.
  authors:
    - bock_lisa
    - castellani_giulia
    - lauer_axel
    - schulze_kirsten
  maintainer:
    - lauer_axel


# Note: The following model is just an example
datasets:
  - {dataset: MPI-ESM1-2-LR, grid: gn, mip: Amon, project: CMIP6, exp: historical, ensemble: r1i1p1f1}

timerange_for_models: &time_period
  timerange: '1980/2014'


preprocessors:

  globalmean_pr:
    area_statistics:
      operator: mean
    convert_units:
      units: mm day-1

  globalmean:
    area_statistics:
      operator: mean

  globalmin:
    area_statistics:
      operator: min

  globalmin_pr:
    area_statistics:
      operator: min
    convert_units:
      units: mm day-1

  globalmax:
    area_statistics:
      operator: max

  globalmax_pr:
    area_statistics:
      operator: max
    convert_units:
      units: mm day-1

  global_sum:
    area_statistics:
      operator: sum
        
  global_sum_air_anom:
    custom_order: true
    convert_units:
      units: kg m-2
    area_statistics:
      operator: sum
    anomalies:
      period: full
      reference:
        start_year: 1990
        start_month: 1
        start_day: 1
        end_year: 1990
        end_month: 12
        end_day: 31


diagnostics:

  # *******************
  # *** global sums ***
  # *******************
                
  air_mass_anom:
    description: time series of global air mass anomaly
    variables:
      ps:
        <<: *time_period
        preprocessor: global_sum_air_anom
        legend_label: 'global sum'
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            pyplot_kwargs:
              title: "Anomaly of global air mass"
            hlines:
              - y: 0.
                color: black
                linewidth: 2
              # - y: 1.964827e+15
              #   color: red
              # - y: -2.291932e+15
              #   color: red
            plot_kwargs:
              'global sum':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3

  moisture_flux:
    description: time series of moisture flux into the atmosphere
    variables:
      qep:
        <<: *time_period
        derive: true
        preprocessor: global_sum
        legend_label: 'global sum'
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            pyplot_kwargs:
              title: "Anomaly of global moisture flux into the atmosphere"
            hlines:
              - y: 0.
                color: black
                linewidth: 2
              - y: 4.381299e+08
                color: red
              - y: -7.258987e+08
                color: red
            plot_kwargs:
              'global sum':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3

  prw_mass:
    description: time series of global water vapour mass
    variables:
      prw_sum:
        <<: *time_period
        short_name: prw
        preprocessor: global_sum
        legend_label: 'global sum'
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            pyplot_kwargs:
              title: "Global sum of water vapour"
            hlines:
              - y: 1.420688e+16
                color: red
                linewidth: 2
              - y: 1.128716e+16
                color: red
                linewidth: 2
            plot_kwargs:
              'global sum':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3


  # ***************************
  # *** global min/max/mean ***
  # ***************************

  asr:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      asr_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: asr
        preprocessor: globalmean
        derive: true
      asr_min:
        <<: *time_period
        short_name: asr
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      asr_max:
        <<: *time_period
        short_name: asr
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 215.4  # placeholder
                color: red
              - y: 248.7  # placeholder
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  clivi:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      clivi_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: clivi
        preprocessor: globalmean
      clivi_min:
        <<: *time_period
        short_name: clivi
        legend_label: 'global min'
        preprocessor: globalmin
      clivi_max:
        <<: *time_period
        short_name: clivi
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 0.092597
                color: red
              - y: 0.0290555
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  clt:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      clt_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: clt
        preprocessor: globalmean
      clt_min:
        <<: *time_period
        short_name: clt
        legend_label: 'global min'
        preprocessor: globalmin
      clt_max:
        <<: *time_period
        short_name: clt
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 58.7
                color: red
              - y: 74.9
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  hfls:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      hfls_mean:
        <<: *time_period
        short_name: hfls
        legend_label: 'global mean'
        preprocessor: globalmean
      hfls_min:
        <<: *time_period
        short_name: hfls
        legend_label: 'global min'
        preprocessor: globalmin
      hfls_max:
        <<: *time_period
        short_name: hfls
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 76.4
                color: red
              - y: -130.8
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  hfss:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      hfss_mean:
        <<: *time_period
        short_name: hfss
        legend_label: 'global mean'
        preprocessor: globalmean
      hfss_min:
        <<: *time_period
        short_name: hfss
        legend_label: 'global min'
        preprocessor: globalmin
      hfss_max:
        <<: *time_period
        short_name: hfss
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 21.5
                color: red
              - y: 15.8
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  lwcre:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      lwcre_mean:
        <<: *time_period
        short_name: lwcre
        legend_label: 'global mean'
        preprocessor: globalmean
        derive: true
      lwcre_min:
        <<: *time_period
        short_name: lwcre
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      lwcre_max:
        <<: *time_period
        short_name: lwcre
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 30.5
                color: red
              - y: 23.6
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  lwp:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      lwp_mean:
        <<: *time_period
        short_name: lwp
        legend_label: 'global mean'
        preprocessor: globalmean
        derive: true
      lwp_min:
        <<: *time_period
        short_name: lwp
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      lwp_max:
        <<: *time_period
        short_name: lwp
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 0.1569
                color: red
              - y: 0.0229
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  netcre:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      netcre_mean:
        <<: *time_period
        short_name: netcre
        legend_label: 'global mean'
        preprocessor: globalmean
        derive: true
      netcre_min:
        <<: *time_period
        short_name: netcre
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      netcre_max:
        <<: *time_period
        short_name: netcre
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: -12.3
                color: red
              - y: -47.1
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  pr:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      pr_mean:
        <<: *time_period
        short_name: pr
        legend_label: 'global mean'
        preprocessor: globalmean_pr
      pr_max:
        <<: *time_period
        short_name: pr
        legend_label: 'global max'
        preprocessor: globalmax_pr
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 2.50
                color: red
              - y: 3.21
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3

  prc:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      prc_mean:
        <<: *time_period
        short_name: prc
        legend_label: 'global mean'
        preprocessor: globalmean
      prc_min:
        <<: *time_period
        short_name: prc
        legend_label: 'global min'
        preprocessor: globalmin
      prc_max:
        <<: *time_period
        short_name: prc
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 1.115665e-05
                color: red
              - y: 7.41801e-06
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  prw:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      prw_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: prw
        preprocessor: globalmean
      prw_min:
        <<: *time_period
        short_name: prw
        legend_label: 'global min'
        preprocessor: globalmin
      prw_max:
        <<: *time_period
        short_name: prw
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 28.7
                color: red
              - y: 22.3
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  rlds:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      rlds_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: rlds
        preprocessor: globalmean
      rlds_min:
        <<: *time_period
        short_name: rlds
        legend_label: 'global min'
        preprocessor: globalmin
      rlds_max:
        <<: *time_period
        short_name: rlds
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 360.4
                color: red
              - y: 319.2
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  rlut:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      rlut_mean:
        <<: *time_period
        short_name: rlut
        legend_label: 'global mean'
        preprocessor: globalmean
      rlut_min:
        <<: *time_period
        short_name: rlut
        legend_label: 'global min'
        preprocessor: globalmin
      rlut_max:
        <<: *time_period
        short_name: rlut
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 246.3
                color: red
              - y: 226.4
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3

  rtnt:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      rtnt_mean:
        <<: *time_period
        short_name: rtnt
        legend_label: 'global mean'
        preprocessor: globalmean
        derive: true
      rtnt_min:
        <<: *time_period
        short_name: rtnt
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      rtnt_max:
        <<: *time_period
        short_name: rtnt
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 13.4
                color: red
              - y: -22.7
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  rsds:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      rsds_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: rsds
        preprocessor: globalmean
      rsds_min:
        <<: *time_period
        short_name: rsds
        legend_label: 'global min'
        preprocessor: globalmin
      rsds_max:
        <<: *time_period
        short_name: rsds
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 231.8
                color: red
              - y: 166.3
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  rsut:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      rsut_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: rsut
        preprocessor: globalmean
      rsut_min:
        <<: *time_period
        short_name: rsut
        legend_label: 'global min'
        preprocessor: globalmin
      rsut_max:
        <<: *time_period
        short_name: rsut
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 128.8
                color: red
              - y: 91.1
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  swcre:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      swcre_mean:
        <<: *time_period
        short_name: swcre
        legend_label: 'global mean'
        preprocessor: globalmean
        derive: true
      swcre_min:
        <<: *time_period
        short_name: swcre
        legend_label: 'global min'
        preprocessor: globalmin
        derive: true
      swcre_max:
        <<: *time_period
        short_name: swcre
        legend_label: 'global max'
        preprocessor: globalmax
        derive: true
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: -40.6
                color: red
              - y: -73.5
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  tas:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      tas_mean:
        <<: *time_period
        short_name: tas
        legend_label: 'global mean'
        preprocessor: globalmean
      tas_min:
        <<: *time_period
        short_name: tas
        legend_label: 'global min'
        preprocessor: globalmin
      tas_max:
        <<: *time_period
        short_name: tas
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 293.7
                color: red
              - y: 283.9
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
                zorder: 3
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
                zorder: 3

  tauu:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      tauu_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: tauu
        preprocessor: globalmean
      tauu_min:
        <<: *time_period
        short_name: tauu
        legend_label: 'global min'
        preprocessor: globalmin
      tauu_max:
        <<: *time_period
        short_name: tauu
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 0.0198
                color: red
              - y: -0.0528
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1

  tauv:
    description: time series of global min/max/mean including "reasonable" ranges
    variables:
      tauv_mean:
        <<: *time_period
        legend_label: 'global mean'
        short_name: tauv
        preprocessor: globalmean
      tauv_min:
        <<: *time_period
        short_name: tauv
        legend_label: 'global min'
        preprocessor: globalmin
      tauv_max:
        <<: *time_period
        short_name: tauv
        legend_label: 'global max'
        preprocessor: globalmax
    scripts:
      timeseries:
        script: monitor/multi_datasets.py
        plot_folder: '{plot_dir}'
        group_variables_by: short_name
        facet_used_for_labels: legend_label
        plots:
          timeseries:
            annual_mean_kwargs: false
            hlines:
              - y: 0.0283
                color: red
              - y: -0.0144
                color: red
            plot_kwargs:
              'global mean':
                color: blue
                label: null
                linestyle: '-'
                linewidth: 2
                label: '{dataset}'
              'global min':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1
              'global max':
                color: blue
                label: null
                linestyle: '--'
                linewidth: 1